% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualization.R
\name{plot_topic_probability}
\alias{plot_topic_probability}
\title{Plot Per-Document Per-Topic Probabilities}
\usage{
plot_topic_probability(
  stm_model = NULL,
  gamma_data = NULL,
  top_n = 10,
  height = 800,
  width = 1000,
  topic_labels = NULL,
  colors = NULL,
  verbose = TRUE,
  ...
)
}
\arguments{
\item{stm_model}{A fitted STM model object.
where \code{stm_model} is a fitted Structural Topic Model created using \code{stm::stm()}.}

\item{gamma_data}{Optional pre-computed gamma data frame (default: NULL). If provided, used instead of stm_model.}

\item{top_n}{The number of topics to display, ordered by their mean prevalence.}

\item{height}{The height of the resulting Plotly plot, in pixels (default: 800).}

\item{width}{The width of the resulting Plotly plot, in pixels (default: 1000).}

\item{topic_labels}{Optional topic labels (default: NULL).}

\item{colors}{Optional color palette for topics (default: NULL).}

\item{verbose}{Logical, if TRUE, prints progress messages.}

\item{...}{Further arguments passed to \code{tidytext::tidy}.}
}
\value{
A \code{ggplot} object showing a bar plot of topic prevalence.
Topics are ordered by their
mean gamma value (average prevalence across documents).
}
\description{
This function generates a bar plot showing the prevalence of each topic across all documents.
}
\examples{
if (interactive()) {

mydata <- TextAnalysisR::SpecialEduTech

 united_tbl <- TextAnalysisR::unite_cols(
   mydata,
   listed_vars = c("title", "keyword", "abstract")
 )

 tokens <- TextAnalysisR::prep_texts(united_tbl, text_field = "united_texts")

 dfm_object <- quanteda::dfm(tokens)

 out <- quanteda::convert(dfm_object, to = "stm")

stm_15 <- stm::stm(
  data = out$meta,
  documents = out$documents,
  vocab = out$vocab,
  max.em.its = 75,
  init.type = "Spectral",
  K = 15,
  prevalence = ~ reference_type + s(year),
  verbose = TRUE)

topic_probability_plot <- TextAnalysisR::plot_topic_probability(
 stm_model = stm_15,
 top_n = 10,
 height = 800,
 width = 1000,
 verbose = TRUE)

print(topic_probability_plot)
}
}
\seealso{
Other visualization: 
\code{\link{apply_standard_plotly_layout}()},
\code{\link{create_empty_plot_message}()},
\code{\link{create_message_table}()},
\code{\link{create_standard_ggplot_theme}()},
\code{\link{get_dt_options}()},
\code{\link{get_plotly_hover_config}()},
\code{\link{get_sentiment_color}()},
\code{\link{get_sentiment_colors}()},
\code{\link{plot_cluster_terms}()},
\code{\link{plot_cross_category_heatmap}()},
\code{\link{plot_entity_frequencies}()},
\code{\link{plot_mwe_frequency}()},
\code{\link{plot_ngram_frequency}()},
\code{\link{plot_pos_frequencies}()},
\code{\link{plot_semantic_viz}()},
\code{\link{plot_similarity_heatmap}()},
\code{\link{plot_term_trends_continuous}()},
\code{\link{plot_topic_effects_categorical}()},
\code{\link{plot_topic_effects_continuous}()},
\code{\link{plot_word_frequency}()},
\code{\link{plot_word_probability}()}
}
\concept{visualization}
