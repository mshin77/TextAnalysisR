environment(prevalence_formula) <- environment()
}
cat("Prevalence formula:\n")
print(prevalence_formula)
cat("\nHead of meta:\n")
print(utils::head(meta))
if (!is.null(prevalence_formula)) {
tryCatch({
mm <- model.matrix(prevalence_formula, data = meta)
cat("\nHead of model matrix:\n")
print(utils::head(mm))
}, error = function(e) {
stop("Error creating model matrix: ", e$message)
})
}
default_control <- list(
gamma.enet = 1,
tau.maxit = NULL,
tau.tol = 1e-5,
nlambda = 500,
alpha = (50 / topic_n) + 1,
eta = 0.01
)
control_params <- modifyList(default_control, control_params)
stm_model <- stm::stm(
documents   = documents,
vocab       = vocab,
K           = topic_n,
prevalence  = prevalence_formula,
max.em.its  = max.em.its,
init.type   = init.type,
verbose     = verbose,
data        = meta,
control     = control_params,
...
)
return(stm_model)
}
df <- TextAnalysisR::SpecialEduTech
united_tbl <- TextAnalysisR::unite_text_cols(df, listed_vars = c("title", "keyword", "abstract"))
tokens <- TextAnalysisR::preprocess_texts(united_tbl, text_field = "united_texts")
dfm_object <- quanteda::dfm(tokens)
stm_15 <- create_stm_model(
dfm_object,
topic_n = 15,
max.em.its = 75,
init.type = "Spectral",
categorical_var = "reference_type",
continuous_var = "year",
verbose = TRUE,
control_params = list(
gamma.enet = 1,
tau.tol = 1e-5,
nlambda = 500,
alpha = (50 / 15) + 1,
eta = 0.01
)
)
stm_15
shiny::runApp('inst/TextAnalysisR.app')
setwd("C:/Users/shinm/Dropbox/apps/TextAnalysisR/inst/TextAnalysisR.app")
runApp()
shiny::runApp()
shiny::runApp()
?stm::stm
stm_15 <- stm::stm(
data = out$meta,
documents = out$documents,
vocab = out$vocab,
max.em.its = 75,
init.type = "Spectral",
K = 15,
prevalence = ~ reference_type + s(year),
verbose = TRUE)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
setwd("C:/Users/shinm/Dropbox/apps/TextAnalysisR/inst/TextAnalysisR.app")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
?stm::stm
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
shiny::runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
?stopwords::stopwords
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
?quanteda.textstats::textstat_frequency
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
TextAnalysisR::SpecialEduTech
TextAnalysisR::preprocess_texts("united_texts")
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
shiny::runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
?stm::searchK
?stm::stm
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
?stm::searchK
?stm::stm
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
runApp('inst/TextAnalysisR.app')
shiny::runApp('inst/TextAnalysisR.app')
